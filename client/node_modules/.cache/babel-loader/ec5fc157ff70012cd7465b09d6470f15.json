{"ast":null,"code":"\"use strict\";\n\nfunction _interopDefault(e) {\n  return e && \"object\" == typeof e && \"default\" in e ? e.default : e;\n}\n\nvar React = _interopDefault(require(\"react\")),\n    reactDom = require(\"react-dom\"),\n    propTypes = _interopDefault(require(\"prop-types\")),\n    classCallCheck = function classCallCheck(e, t) {\n  if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n},\n    createClass = function () {\n  function e(e, t) {\n    for (var n = 0; n < t.length; n++) {\n      var r = t[n];\n      r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n    }\n  }\n\n  return function (t, n, r) {\n    return n && e(t.prototype, n), r && e(t, r), t;\n  };\n}(),\n    inherits = function inherits(e, t) {\n  if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof t);\n  e.prototype = Object.create(t && t.prototype, {\n    constructor: {\n      value: e,\n      enumerable: !1,\n      writable: !0,\n      configurable: !0\n    }\n  }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);\n},\n    possibleConstructorReturn = function possibleConstructorReturn(e, t) {\n  if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return !t || \"object\" != typeof t && \"function\" != typeof t ? e : t;\n},\n    toConsumableArray = function toConsumableArray(e) {\n  if (Array.isArray(e)) {\n    for (var t = 0, n = Array(e.length); t < e.length; t++) {\n      n[t] = e[t];\n    }\n\n    return n;\n  }\n\n  return Array.from(e);\n},\n    ReactToPrint = function (e) {\n  function t() {\n    var e, n, r, o;\n    classCallCheck(this, t);\n\n    for (var a = arguments.length, i = Array(a), l = 0; l < a; l++) {\n      i[l] = arguments[l];\n    }\n\n    return n = r = possibleConstructorReturn(this, (e = t.__proto__ || Object.getPrototypeOf(t)).call.apply(e, [this].concat(i))), r.handlePrint = function () {\n      var e = r.props,\n          t = e.bodyClass,\n          n = e.content,\n          o = e.copyStyles,\n          a = e.pageStyle,\n          i = (e.onAfterPrint, n());\n      if (void 0 === i) return console.error(\"Refs are not available for stateless components. For 'react-to-print' to work only Class based components can be printed\"), !1;\n      var l = document.createElement(\"iframe\");\n      l.style.position = \"absolute\", l.style.top = \"-1000px\", l.style.left = \"-1000px\";\n      var c = reactDom.findDOMNode(i),\n          s = document.querySelectorAll('link[rel=\"stylesheet\"]');\n      r.linkTotal = s.length || 0, r.linkLoaded = 0;\n\n      var u = function u(e) {\n        r.linkLoaded++, r.linkLoaded === r.linkTotal && r.triggerPrint(l);\n      };\n\n      l.onload = function () {\n        window.navigator && window.navigator.userAgent.indexOf(\"Trident/7.0\") > -1 && (l.onload = null);\n        var e = l.contentDocument || l.contentWindow.document,\n            n = [].concat(toConsumableArray(c.querySelectorAll(\"canvas\")));\n        e.open(), e.write(c.outerHTML), e.close();\n        var i = void 0 === a ? \"@page { size: auto;  margin: 0mm; } @media print { body { -webkit-print-color-adjust: exact; } }\" : a,\n            s = e.createElement(\"style\");\n        s.appendChild(e.createTextNode(i)), e.head.appendChild(s), t.length && e.body.classList.add(t);\n        var f = e.querySelectorAll(\"canvas\");\n\n        if ([].concat(toConsumableArray(f)).forEach(function (e, t) {\n          e.getContext(\"2d\").drawImage(n[t], 0, 0);\n        }), !1 !== o) {\n          var p = document.querySelectorAll('style, link[rel=\"stylesheet\"]');\n          [].concat(toConsumableArray(p)).forEach(function (t, n) {\n            var r = e.createElement(t.tagName),\n                o = \"\";\n\n            if (\"STYLE\" === t.tagName) {\n              if (t.sheet) {\n                for (var a = 0; a < t.sheet.cssRules.length; a++) {\n                  o += t.sheet.cssRules[a].cssText + \"\\r\\n\";\n                }\n\n                r.setAttribute(\"id\", \"react-to-print-\" + n), r.appendChild(e.createTextNode(o));\n              }\n            } else {\n              [].concat(toConsumableArray(t.attributes)).forEach(function (e) {\n                r.setAttribute(e.nodeName, e.nodeValue);\n              }), r.onload = u.bind(null, \"link\"), r.onerror = u.bind(null, \"link\");\n            }\n\n            e.head.appendChild(r);\n          });\n        }\n\n        0 !== r.linkTotal && !1 !== o || r.triggerPrint(l);\n      }, document.body.appendChild(l);\n    }, o = n, possibleConstructorReturn(r, o);\n  }\n\n  return inherits(t, e), createClass(t, [{\n    key: \"triggerPrint\",\n    value: function value(e) {\n      var t = this,\n          n = this.props,\n          r = n.onBeforePrint,\n          o = n.onAfterPrint;\n      r && r(), setTimeout(function () {\n        e.contentWindow.focus(), e.contentWindow.print(), t.removeWindow(e), o && o();\n      }, 500);\n    }\n  }, {\n    key: \"removeWindow\",\n    value: function value(e) {\n      setTimeout(function () {\n        e.parentNode.removeChild(e);\n      }, 500);\n    }\n  }, {\n    key: \"render\",\n    value: function value() {\n      var e = this;\n      return React.cloneElement(this.props.trigger(), {\n        ref: function ref(t) {\n          return e.triggerRef = t;\n        },\n        onClick: this.handlePrint\n      });\n    }\n  }]), t;\n}(React.Component);\n\nReactToPrint.defaultProps = {\n  copyStyles: !0,\n  closeAfterPrint: !0,\n  bodyClass: \"\"\n}, module.exports = ReactToPrint;","map":null,"metadata":{},"sourceType":"script"}